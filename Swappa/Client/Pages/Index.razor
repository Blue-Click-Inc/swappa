@page "/"
<PageTitle>@pageTitle</PageTitle>

<div class="container">
  <div class="card box-shadow-inset w-75 m-auto">
      <EditForm Model="Query" method="post" OnValidSubmit="Search" FormName="searchVehicle">
            <div class="w-75 m-auto pt-2 px-2">
                <div class="row">
                    <div class="form-floating p-1 col-sm-12 col-lg-6">
                        <InputNumber 
                            @bind-Value="Query.MinPrice" 
                            class="form-control"
                            placeholder="Minimum Price"
                            aria-required="true" 
                        />
                        <label for="Price" class="form-label">Lower Price Range</label>
                    </div>
                    <div class="form-floating p-1 col-sm-12 col-lg-6">
                        <InputNumber 
                            @bind-Value="Query.MaxPrice" 
                            class="form-control" 
                            placeholder="Maximum Price"
                            aria-required="true" 
                        />
                        <label for="Price" class="form-label">Higher Price Range</label>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating p-1 col-sm-12 col-lg-6">
                        <InputSelect 
                            @bind-Value="Query.Transmission" 
                            class="form-control" 
                            placeholder="Transmission"
                            aria-required="true">
                            @foreach (var transmission in Enum.GetValues(typeof(Transmission)))
                            {
                                <option value="@transmission">@transmission.GetDescription()</option>
                            }
                        </InputSelect>
                        <label for="Transmission" class="form-label">Transmission</label>
                    </div>
                    <div class="form-floating p-1 col-sm-12 col-lg-6">
                        <InputSelect 
                            @bind-Value="Query.Engine" 
                            class="form-control" 
                            placeholder="Engine"
                            aria-required="true"
                        >
                         @foreach (var engine in Enum.GetValues(typeof(Engine)))
                         {
                            <option value="@engine">@engine.GetDescription()</option>
                         }
                    </InputSelect>
                        <label for="Price" class="form-label">Engine</label>
                    </div>
                </div>
                <div class="row pt-1">
                    <div class="form-floating px-1 col-md-12 col-lg-3">
                        <InputNumber 
                            @bind-Value="Query.MinYear" 
                            class="form-control"
                            placeholder="Minimum Year"
                            aria-required="true" 
                        />
                        <label for="Year" class="form-label">Minimum Year</label>
                    </div>
                    <div class="form-floating px-1 col-md-12 col-lg-3">
                        <InputNumber 
                            @bind-Value="Query.MaxYear" 
                            class="form-control" 
                            placeholder="Maximum Year"
                            aria-required="true" 
                        />
                        <label for="Year" class="form-label">Maximum Year</label>
                    </div>
                    <div class="form-floating px-1 col-md-12 col-lg-6">
                        <InputSelect 
                            @bind-Value="Query.DriveTrain" 
                            class="form-control" 
                            placeholder="DriveTrain"
                            aria-required="true">
                             @foreach (var drive in Enum.GetValues(typeof(DriveTrain)))
                             {
                                <option value="@drive">@drive.GetDescription()</option>
                             }
                        </InputSelect>
                        <label for="DriveTrain" class="form-label">Drive Train</label>
                    </div>
                </div>
                <hr />
            </div>
            <div class="row w-75 m-auto pb-2">
                <div class="form-floating px-1 col-md-12 col-lg-8">
                    <InputText 
                        @bind-Value="Query.SearchTerm" 
                        class="form-control" 
                        placeholder="Enter text"
                        aria-required="true" 
                    />
                    <label for="Make" class="form-label">Enter text</label>
                </div>
                <div class="form-floating px-1 col-md-12 col-lg-4 py-2">
                    <Button Color="ButtonColor.Primary" Outline="true" Class="p-2 w-100" Type="ButtonType.Submit">
                       <Icon Name="IconName.Search"></Icon> Search
                    </Button>
                </div>
            </div>
        </EditForm>
  </div>
  <div class="row g-1 my-3 d-flex justify-content-evenly flex-wrap align-items-center">
        @if(isLoading)
        {
            <div class="text-center align-self-center top-50 m-auto">
                <Spinner Type="SpinnerType.Grow" Size="SpinnerSize.Large" Color="SpinnerColor.Primary" />
            </div>
        }
        else
        {
            @foreach(var vehicle in Vehicles.Data)
            {
                <VehicleCard Vehicle="vehicle"></VehicleCard>
            }
        }
    </div>
</div>

@*(&#x20A6;)*@